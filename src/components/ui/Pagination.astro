---
/*
--------------------------------------------------------------------------------
personal-site
src/components/ui/Pagination.astro

Renders the blog pagination controls.

Module Author(s): Eric J. South
--------------------------------------------------------------------------------
*/

const { page } = Astro.props;
const prevUrl = page?.url?.prev ?? '';
const nextUrl = page?.url?.next ?? '';
const prevDisabled = !prevUrl;
const nextDisabled = !nextUrl;
---

<div class="flex justify-center mt-8 gap-3">
  {/* Previous button */}
  {
    prevDisabled ? (
      <span
        class="pagination-pill"
        aria-disabled="true"
        aria-label="Previous page"
      >
        <svg
          class="h-3.5 w-3.5"
          viewBox="0 0 24 24"
          role="img"
          aria-hidden="true"
        >
          <path
            d="M15.5 5.5L9 12l6.5 6.5-1.4 1.4L6.2 12l7.9-7.9 1.4 1.4z"
            fill="currentColor"
          />
        </svg>
        <span class="pagination-pill__label">Prev</span>
      </span>
    ) : (
      <a href={prevUrl} class="pagination-pill" aria-label="Previous page">
        <svg
          class="h-3.5 w-3.5"
          viewBox="0 0 24 24"
          role="img"
          aria-hidden="true"
        >
          <path
            d="M15.5 5.5L9 12l6.5 6.5-1.4 1.4L6.2 12l7.9-7.9 1.4 1.4z"
            fill="currentColor"
          />
        </svg>
        <span class="pagination-pill__label">Prev</span>
      </a>
    )
  }

  {/* Next button */}
  {
    nextDisabled ? (
      <span class="pagination-pill" aria-disabled="true" aria-label="Next page">
        <span class="pagination-pill__label">Next</span>
        <svg
          class="h-3.5 w-3.5"
          viewBox="0 0 24 24"
          role="img"
          aria-hidden="true"
        >
          <path
            d="M8.5 5.5 16.4 12l-7.9 7.9-1.4-1.4L13.8 12 7.1 5.5 8.5 4.1z"
            fill="currentColor"
          />
        </svg>
      </span>
    ) : (
      <a href={nextUrl} class="pagination-pill" aria-label="Next page">
        <span class="pagination-pill__label">Next</span>
        <svg
          class="h-3.5 w-3.5"
          viewBox="0 0 24 24"
          role="img"
          aria-hidden="true"
        >
          <path
            d="M8.5 5.5 16.4 12l-7.9 7.9-1.4-1.4L13.8 12 7.1 5.5 8.5 4.1z"
            fill="currentColor"
          />
        </svg>
      </a>
    )
  }
</div>

<style>
  .pagination-pill {
    display: inline-flex;
    align-items: center;
    gap: 0.4rem;
    border-radius: 999px;
    padding: 0.35rem 0.85rem;
    border: 0;
    background-color: color-mix(in oklab, hsl(var(--p)) 8%, transparent);
    color: color-mix(in oklab, hsl(var(--p)) 70%, currentColor 30%);
    transition:
      background-color 0.2s ease,
      color 0.2s ease;
  }

  .pagination-pill:hover {
    background-color: color-mix(in oklab, hsl(var(--p)) 16%, transparent);
    color: color-mix(in oklab, hsl(var(--p)) 80%, currentColor 20%);
  }

  .pagination-pill[aria-disabled='true'] {
    opacity: 0.5;
    cursor: not-allowed;
  }

  .pagination-pill__label {
    font-size: 0.58rem;
    text-transform: uppercase;
    letter-spacing: 0.18em;
  }

  .pagination-pill:focus-visible {
    outline: 2px solid color-mix(in oklab, hsl(var(--p)) 70%, transparent);
    outline-offset: 3px;
  }
</style>
